"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[499],{8499:function(e,t,s){s.r(t),s.d(t,{default:function(){return x}});var a=s(7314),o=s(3698),l=s(2938),n=s(4414),i=s(3449),r=s(3064),c=s(9991),d=s(6930),u=s(2756),m=s(7150),h=s(1034),g=s(7112),f=function(){var e=this,t=e._self._c;return t(i.A,{attrs:{fluid:""}},[t(o.A,{staticClass:"elevation-2"},[t(l.ri,{staticClass:"headline"},[e._v(" Classrooms "),t(h.A),t(g.A,{staticClass:"mr-4",staticStyle:{"max-width":"300px"},attrs:{"prepend-inner-icon":"mdi-magnify",label:"Search classrooms",clearable:"",outlined:"",rounded:"",dense:"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),t(a.A,{attrs:{color:"primary"},on:{click:e.openCreateDialog}},[t(d.A,{attrs:{left:""}},[e._v("mdi-plus")]),e._v(" Add New Classroom ")],1)],1),t(r.A,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.classrooms,search:e.search,"items-per-page":10,loading:e.loading,"loading-text":"Loading classrooms... Please wait","no-data-text":"No classrooms found","footer-props":{"items-per-page-options":[5,10,15,20]}},scopedSlots:e._u([{key:"item",fn:function({item:s,index:o}){return[t("tr",{class:o%2===0?"grey lighten-4":""},[t("td",[e._v(e._s(s.name))]),t("td",{staticClass:"text-right"},[t(a.A,{staticClass:"mr-2",attrs:{icon:"",small:""},on:{click:function(t){return e.openEditDialog(s)}}},[t(d.A,{attrs:{small:""}},[e._v("mdi-pencil")])],1),t(a.A,{attrs:{icon:"",small:""},on:{click:function(t){return e.openDeleteDialog(s)}}},[t(d.A,{attrs:{small:""}},[e._v("mdi-delete")])],1)],1)])]}}])})],1),t(c.A,{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(o.A,[t(l.ri,[t("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),t(l.OQ,[t(i.A,[t(u.A,[t(n.A,{attrs:{cols:"12"}},[t(g.A,{attrs:{label:"Classroom Name",rules:[e=>!!e||"Classroom name is required"],required:""},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1)],1)],1)],1),t(l.SL,[t(h.A),t(a.A,{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDialog}},[e._v("Cancel")]),t(a.A,{attrs:{color:"blue darken-1",text:""},on:{click:e.saveClassroom}},[e._v("Save")])],1)],1)],1),t(c.A,{attrs:{"max-width":"500px"},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[t(o.A,[t(l.ri,{staticClass:"headline"},[e._v("Delete Classroom")]),t(l.OQ,[e._v("Are you sure you want to delete this classroom?")]),t(l.SL,[t(h.A),t(a.A,{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDeleteDialog}},[e._v("Cancel")]),t(a.A,{attrs:{color:"red darken-1",text:""},on:{click:e.deleteClassroom}},[e._v("Delete")])],1)],1)],1),t(m.A,{attrs:{color:e.snackbarColor,timeout:3e3},scopedSlots:e._u([{key:"action",fn:function({attrs:s}){return[t(a.A,e._b({attrs:{text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",s,!1),[e._v("Close")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.snackbarText)+" ")])],1)},p=[],b=(s(4114),s(2228)),k={name:"ClassroomManagementPage",data:()=>({dialog:!1,deleteDialog:!1,snackbar:!1,snackbarColor:"",snackbarText:"",loading:!1,search:"",headers:[{text:"Classroom Name",value:"name",align:"start",sortable:!0},{text:"Actions",value:"actions",sortable:!1,align:"end"}],classrooms:[],editedIndex:-1,editedItem:{_id:"",name:""},defaultItem:{name:""}}),computed:{formTitle(){return-1===this.editedIndex?"New Classroom":"Edit Classroom"}},created(){this.fetchClassrooms(),console.log("Current environment:",b.l),console.log("API Base URL:",b.V)},methods:{async fetchClassrooms(){this.loading=!0;try{const e=await this.$http.get("/classroom");console.log(e),this.classrooms=e.data.data.items}catch(e){console.error("Error fetching classrooms:",e),this.showSnackbar("Error fetching classrooms","error")}finally{this.loading=!1}},openCreateDialog(){this.editedIndex=-1,this.editedItem=Object.assign({},this.defaultItem),this.dialog=!0},openEditDialog(e){this.editedIndex=this.classrooms.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},openDeleteDialog(e){this.editedItem=Object.assign({},e),this.deleteDialog=!0},closeDialog(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},closeDeleteDialog(){this.deleteDialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem)}))},async saveClassroom(){if(this.editedItem.name)try{if(this.editedIndex>-1)await this.$http.put(`/classroom/${this.editedItem._id}`,this.editedItem),Object.assign(this.classrooms[this.editedIndex],this.editedItem),this.showSnackbar("Classroom updated successfully","success");else{const e=await this.$http.post("/classroom",this.editedItem);console.log(e),this.classrooms.push(e.data.data.item),this.showSnackbar("Classroom created successfully","success")}this.closeDialog()}catch(e){console.error("Error saving classroom:",e),this.showSnackbar("Error saving classroom","error")}else this.showSnackbar("Classroom name is required","error")},async deleteClassroom(){try{await this.$http.delete(`/classroom/${this.editedItem._id}`);const e=this.classrooms.findIndex((e=>e._id===this.editedItem._id));this.classrooms.splice(e,1),this.closeDeleteDialog(),this.showSnackbar("Classroom deleted successfully","success")}catch(e){console.error("Error deleting classroom:",e),this.showSnackbar("Error deleting classroom","error")}},showSnackbar(e,t){this.snackbarText=e,this.snackbarColor=t,this.snackbar=!0}}},y=k,C=s(1656),v=(0,C.A)(y,f,p,!1,null,null,null),x=v.exports},4414:function(e,t,s){s(4114),s(125);var a=s(5471),o=s(8041),l=s(4152);const n=["sm","md","lg","xl"],i=(()=>n.reduce(((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e)),{}))(),r=(()=>n.reduce(((e,t)=>(e["offset"+(0,l.Zb)(t)]={type:[String,Number],default:null},e)),{}))(),c=(()=>n.reduce(((e,t)=>(e["order"+(0,l.Zb)(t)]={type:[String,Number],default:null},e)),{}))(),d={col:Object.keys(i),offset:Object.keys(r),order:Object.keys(c)};function u(e,t,s){let a=e;if(null!=s&&!1!==s){if(t){const s=t.replace(e,"");a+=`-${s}`}return"col"!==e||""!==s&&!0!==s?(a+=`-${s}`,a.toLowerCase()):a.toLowerCase()}}const m=new Map;t.A=a.Ay.extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...i,offset:{type:[String,Number],default:null},...r,order:{type:[String,Number],default:null},...c,alignSelf:{type:String,default:null,validator:e=>["auto","start","end","center","baseline","stretch"].includes(e)},tag:{type:String,default:"div"}},render(e,{props:t,data:s,children:a,parent:l}){let n="";for(const o in t)n+=String(t[o]);let i=m.get(n);if(!i){let e;for(e in i=[],d)d[e].forEach((s=>{const a=t[s],o=u(e,s,a);o&&i.push(o)}));const s=i.some((e=>e.startsWith("col-")));i.push({col:!s||!t.cols,[`col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),m.set(n,i)}return e(t.tag,(0,o.Ay)(s,{class:i}),a)}})},2756:function(e,t,s){s(4114),s(125);var a=s(5471),o=s(8041),l=s(4152);const n=["sm","md","lg","xl"],i=["start","end","center"];function r(e,t){return n.reduce(((s,a)=>(s[e+(0,l.Zb)(a)]=t(),s)),{})}const c=e=>[...i,"baseline","stretch"].includes(e),d=r("align",(()=>({type:String,default:null,validator:c}))),u=e=>[...i,"space-between","space-around"].includes(e),m=r("justify",(()=>({type:String,default:null,validator:u}))),h=e=>[...i,"space-between","space-around","stretch"].includes(e),g=r("alignContent",(()=>({type:String,default:null,validator:h}))),f={align:Object.keys(d),justify:Object.keys(m),alignContent:Object.keys(g)},p={align:"align",justify:"justify",alignContent:"align-content"};function b(e,t,s){let a=p[e];if(null!=s){if(t){const s=t.replace(e,"");a+=`-${s}`}return a+=`-${s}`,a.toLowerCase()}}const k=new Map;t.A=a.Ay.extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:c},...d,justify:{type:String,default:null,validator:u},...m,alignContent:{type:String,default:null,validator:h},...g},render(e,{props:t,data:s,children:a}){let l="";for(const o in t)l+=String(t[o]);let n=k.get(l);if(!n){let e;for(e in n=[],f)f[e].forEach((s=>{const a=t[s],o=b(e,s,a);o&&n.push(o)}));n.push({"no-gutters":t.noGutters,"row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),k.set(l,n)}return e(t.tag,(0,o.Ay)(s,{staticClass:"row",class:n}),a)}})}}]);
//# sourceMappingURL=499.92289b16.js.map