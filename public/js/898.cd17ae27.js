"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[898],{8898:function(t,e,a){a.r(e),a.d(e,{default:function(){return w}});var s=a(7314),i=a(3698),n=a(2938),r=a(4414),l=a(3449),o=a(3064),c=a(9991),d=a(6930),u=a(2756),h=a(7150),p=a(1034),f=a(7112),g=a(6513),m=function(){var t=this,e=t._self._c;return e(l.A,{attrs:{fluid:""}},[e(i.A,{staticClass:"elevation-2"},[e(n.ri,{staticClass:"headline"},[t._v(" Parties "),e(p.A),e(f.A,{staticClass:"mr-4",staticStyle:{"max-width":"300px"},attrs:{"prepend-inner-icon":"mdi-magnify",label:"Search parties",clearable:"",outlined:"",dense:"","hide-details":"",rounded:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),e(s.A,{attrs:{color:"primary"},on:{click:t.openCreateDialog}},[e(d.A,{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" Add New Party ")],1)],1),e(o.A,{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.parties,search:t.search,"items-per-page":10,loading:t.loading,"loading-text":"Loading parties... Please wait","no-data-text":"No parties found"},scopedSlots:t._u([{key:"item.actions",fn:function({item:a}){return[e(s.A,{staticClass:"mr-2",attrs:{icon:"",small:""},on:{click:function(e){return t.openEditDialog(a)}}},[e(d.A,{attrs:{small:""}},[t._v("mdi-pencil")])],1),e(s.A,{attrs:{icon:"",small:""},on:{click:function(e){return t.openDeleteDialog(a)}}},[e(d.A,{attrs:{small:""}},[t._v("mdi-delete")])],1)]}}])})],1),e(c.A,{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(i.A,[e(n.ri,[e("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),e(n.OQ,[e(l.A,[e(u.A,[e(r.A,{attrs:{cols:"12"}},[e(f.A,{attrs:{label:"Party Name",required:""},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),e(r.A,{attrs:{cols:"12"}},[e(g.A,{attrs:{label:"Party Platform",rows:"3"},model:{value:t.editedItem.platform,callback:function(e){t.$set(t.editedItem,"platform",e)},expression:"editedItem.platform"}})],1)],1)],1)],1),e(n.SL,[e(p.A),e(s.A,{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDialog}},[t._v("Cancel")]),e(s.A,{attrs:{color:"blue darken-1",text:""},on:{click:t.saveParty}},[t._v("Save")])],1)],1)],1),e(c.A,{attrs:{"max-width":"500px"},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[e(i.A,[e(n.ri,{staticClass:"headline"},[t._v("Delete Party")]),e(n.OQ,[t._v("Are you sure you want to delete this party?")]),e(n.SL,[e(p.A),e(s.A,{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDeleteDialog}},[t._v("Cancel")]),e(s.A,{attrs:{color:"red darken-1",text:""},on:{click:t.deleteParty}},[t._v("Delete")])],1)],1)],1),e(h.A,{attrs:{color:t.snackbarColor,timeout:3e3},scopedSlots:t._u([{key:"action",fn:function({attrs:a}){return[e(s.A,t._b({attrs:{text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",a,!1),[t._v("Close")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},y=[],b=(a(4114),{name:"PartyManagementPage",data:()=>({dialog:!1,deleteDialog:!1,snackbar:!1,snackbarColor:"",snackbarText:"",loading:!1,search:"",headers:[{text:"Party Name",value:"name"},{text:"Platform",value:"platform"},{text:"Actions",value:"actions",sortable:!1}],parties:[],editedIndex:-1,editedItem:{_id:"",name:"",platform:""},defaultItem:{name:"",platform:""}}),computed:{formTitle(){return-1===this.editedIndex?"New Party":"Edit Party"}},created(){this.fetchParties()},methods:{async fetchParties(){this.loading=!0;try{const t=await this.$http.get("/party");this.parties=t.data.data.items}catch(t){console.error("Error fetching parties:",t),this.showSnackbar("Error fetching parties","error")}finally{this.loading=!1}},openCreateDialog(){this.editedIndex=-1,this.editedItem=Object.assign({},this.defaultItem),this.dialog=!0},openEditDialog(t){this.editedIndex=this.parties.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},openDeleteDialog(t){this.editedItem=Object.assign({},t),this.deleteDialog=!0},closeDialog(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},closeDeleteDialog(){this.deleteDialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem)}))},async saveParty(){try{if(this.editedIndex>-1)await this.$http.put(`/party/${this.editedItem._id}`,this.editedItem),Object.assign(this.parties[this.editedIndex],this.editedItem),this.showSnackbar("Party updated successfully","success");else{const t=await this.$http.post("/party",this.editedItem);this.parties.push(t.data.data.item),this.showSnackbar("Party created successfully","success")}this.closeDialog(),this.fetchParties()}catch(t){console.error("Error saving party:",t),this.showSnackbar("Error saving party","error")}},async deleteParty(){try{await this.$http.delete(`/party/${this.editedItem._id}`);const t=this.parties.findIndex((t=>t._id===this.editedItem._id));this.parties.splice(t,1),this.closeDeleteDialog(),this.showSnackbar("Party deleted successfully","success")}catch(t){console.error("Error deleting party:",t),this.showSnackbar("Error deleting party","error")}},showSnackbar(t,e){this.snackbarText=t,this.snackbarColor=e,this.snackbar=!0}}}),v=b,k=a(1656),x=(0,k.A)(v,m,y,!1,null,null,null),w=x.exports},4414:function(t,e,a){a(4114),a(125);var s=a(5471),i=a(8041),n=a(4152);const r=["sm","md","lg","xl"],l=(()=>r.reduce(((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t)),{}))(),o=(()=>r.reduce(((t,e)=>(t["offset"+(0,n.Zb)(e)]={type:[String,Number],default:null},t)),{}))(),c=(()=>r.reduce(((t,e)=>(t["order"+(0,n.Zb)(e)]={type:[String,Number],default:null},t)),{}))(),d={col:Object.keys(l),offset:Object.keys(o),order:Object.keys(c)};function u(t,e,a){let s=t;if(null!=a&&!1!==a){if(e){const a=e.replace(t,"");s+=`-${a}`}return"col"!==t||""!==a&&!0!==a?(s+=`-${a}`,s.toLowerCase()):s.toLowerCase()}}const h=new Map;e.A=s.Ay.extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...l,offset:{type:[String,Number],default:null},...o,order:{type:[String,Number],default:null},...c,alignSelf:{type:String,default:null,validator:t=>["auto","start","end","center","baseline","stretch"].includes(t)},tag:{type:String,default:"div"}},render(t,{props:e,data:a,children:s,parent:n}){let r="";for(const i in e)r+=String(e[i]);let l=h.get(r);if(!l){let t;for(t in l=[],d)d[t].forEach((a=>{const s=e[a],i=u(t,a,s);i&&l.push(i)}));const a=l.some((t=>t.startsWith("col-")));l.push({col:!a||!e.cols,[`col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),h.set(r,l)}return t(e.tag,(0,i.Ay)(a,{class:l}),s)}})},2756:function(t,e,a){a(4114),a(125);var s=a(5471),i=a(8041),n=a(4152);const r=["sm","md","lg","xl"],l=["start","end","center"];function o(t,e){return r.reduce(((a,s)=>(a[t+(0,n.Zb)(s)]=e(),a)),{})}const c=t=>[...l,"baseline","stretch"].includes(t),d=o("align",(()=>({type:String,default:null,validator:c}))),u=t=>[...l,"space-between","space-around"].includes(t),h=o("justify",(()=>({type:String,default:null,validator:u}))),p=t=>[...l,"space-between","space-around","stretch"].includes(t),f=o("alignContent",(()=>({type:String,default:null,validator:p}))),g={align:Object.keys(d),justify:Object.keys(h),alignContent:Object.keys(f)},m={align:"align",justify:"justify",alignContent:"align-content"};function y(t,e,a){let s=m[t];if(null!=a){if(e){const a=e.replace(t,"");s+=`-${a}`}return s+=`-${a}`,s.toLowerCase()}}const b=new Map;e.A=s.Ay.extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:c},...d,justify:{type:String,default:null,validator:u},...h,alignContent:{type:String,default:null,validator:p},...f},render(t,{props:e,data:a,children:s}){let n="";for(const i in e)n+=String(e[i]);let r=b.get(n);if(!r){let t;for(t in r=[],g)g[t].forEach((a=>{const s=e[a],i=y(t,a,s);i&&r.push(i)}));r.push({"no-gutters":e.noGutters,"row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),b.set(n,r)}return t(e.tag,(0,i.Ay)(a,{staticClass:"row",class:r}),s)}})},6513:function(t,e,a){a.d(e,{A:function(){return r}});var s=a(7112),i=a(5803);const n=(0,i.A)(s.A);var r=n.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:t=>!isNaN(parseFloat(t))},rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseInt(t,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...s.A.options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{autoGrow(t){this.$nextTick((()=>{var e;t?this.calculateInputHeight():null===(e=this.$refs.input)||void 0===e||e.style.removeProperty("height")}))},lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout((()=>{this.autoGrow&&this.calculateInputHeight()}),0)},methods:{calculateInputHeight(){const t=this.$refs.input;if(!t)return;t.style.height="0";const e=t.scrollHeight,a=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(a,e)+"px"},genInput(){const t=s.A.options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput(t){s.A.options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})}}]);
//# sourceMappingURL=898.cd17ae27.js.map