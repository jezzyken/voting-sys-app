"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[35],{7035:function(e,t,a){a.r(t),a.d(t,{default:function(){return x}});var r=a(7314),s=a(3698),i=a(2938),o=a(4414),n=a(3449),l=a(3064),c=a(9991),d=a(6930),g=a(2756),u=a(7150),m=a(1034),p=a(7112),h=function(){var e=this,t=e._self._c;return t(n.A,{attrs:{fluid:""}},[t(s.A,{staticClass:"elevation-2"},[t(i.ri,{staticClass:"headline"},[e._v(" Program "),t(m.A),t(p.A,{staticClass:"mr-4",staticStyle:{"max-width":"300px"},attrs:{"prepend-inner-icon":"mdi-magnify",label:"Search programs",clearable:"",outlined:"",rounded:"",dense:"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),t(r.A,{attrs:{color:"primary"},on:{click:e.openCreateDialog}},[t(d.A,{attrs:{left:""}},[e._v("mdi-plus")]),e._v(" Add New Program ")],1)],1),t(l.A,{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.programs,search:e.search,"items-per-page":10,loading:e.loading,"loading-text":"Loading programs... Please wait","no-data-text":"No programs found","footer-props":{"items-per-page-options":[5,10,15,20]}},scopedSlots:e._u([{key:"item",fn:function({item:a,index:s}){return[t("tr",{class:s%2===0?"grey lighten-4":""},[t("td",[e._v(e._s(a.programName))]),t("td",[e._v(e._s(a.programAbr))]),t("td",{staticClass:"text-right"},[t(r.A,{staticClass:"mr-2",attrs:{icon:"",small:""},on:{click:function(t){return e.openEditDialog(a)}}},[t(d.A,{attrs:{small:""}},[e._v("mdi-pencil")])],1),t(r.A,{attrs:{icon:"",small:""},on:{click:function(t){return e.openDeleteDialog(a)}}},[t(d.A,{attrs:{small:""}},[e._v("mdi-delete")])],1)],1)])]}}])})],1),t(c.A,{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(s.A,[t(i.ri,[t("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),t(i.OQ,[t(n.A,[t(g.A,[t(o.A,{attrs:{cols:"12"}},[t(p.A,{attrs:{label:"Program Name",rules:[e=>!!e||"Program name is required"],required:""},model:{value:e.editedItem.programName,callback:function(t){e.$set(e.editedItem,"programName",t)},expression:"editedItem.programName"}})],1),t(o.A,{attrs:{cols:"12"}},[t(p.A,{attrs:{label:"Program Abbreviation",rules:[e=>!!e||"Program Abbreviation is required"],required:""},model:{value:e.editedItem.programAbr,callback:function(t){e.$set(e.editedItem,"programAbr",t)},expression:"editedItem.programAbr"}})],1)],1)],1)],1),t(i.SL,[t(m.A),t(r.A,{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDialog}},[e._v("Cancel")]),t(r.A,{attrs:{color:"blue darken-1",text:""},on:{click:e.saveProgram}},[e._v("Save")])],1)],1)],1),t(c.A,{attrs:{"max-width":"500px"},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[t(s.A,[t(i.ri,{staticClass:"headline"},[e._v("Delete Program")]),t(i.OQ,[e._v("Are you sure you want to delete this program?")]),t(i.SL,[t(m.A),t(r.A,{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDeleteDialog}},[e._v("Cancel")]),t(r.A,{attrs:{color:"red darken-1",text:""},on:{click:e.deleteProgram}},[e._v("Delete")])],1)],1)],1),t(u.A,{attrs:{color:e.snackbarColor,timeout:3e3},scopedSlots:e._u([{key:"action",fn:function({attrs:a}){return[t(r.A,e._b({attrs:{text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",a,!1),[e._v("Close")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.snackbarText)+" ")])],1)},f=[],b=(a(4114),a(2228)),k={name:"ProgramManagementPage",data:()=>({dialog:!1,deleteDialog:!1,snackbar:!1,snackbarColor:"",snackbarText:"",loading:!1,search:"",headers:[{text:"Program Name",value:"programName",align:"start",sortable:!0},{text:"Abbreviation",value:"programAbr",align:"start",sortable:!0},{text:"Actions",value:"actions",sortable:!1,align:"end"}],programs:[],editedIndex:-1,editedItem:{_id:"",programName:"",programAbr:""},defaultItem:{programName:"",programAbr:""}}),computed:{formTitle(){return-1===this.editedIndex?"New Program":"Edit Program"}},created(){this.fetchPrograms(),console.log("Current environment:",b.l),console.log("API Base URL:",b.V)},methods:{async fetchPrograms(){this.loading=!0;try{const e=await this.$http.get("/program");console.log(e),this.programs=e.data.data.items}catch(e){console.error("Error fetching programs:",e),this.showSnackbar("Error fetching programs","error")}finally{this.loading=!1}},openCreateDialog(){this.editedIndex=-1,this.editedItem=Object.assign({},this.defaultItem),this.dialog=!0},openEditDialog(e){this.editedIndex=this.programs.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},openDeleteDialog(e){this.editedItem=Object.assign({},e),this.deleteDialog=!0},closeDialog(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},closeDeleteDialog(){this.deleteDialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem)}))},async saveProgram(){if(this.editedItem.programName)try{if(this.editedIndex>-1)await this.$http.put(`/program/${this.editedItem._id}`,this.editedItem),Object.assign(this.programs[this.editedIndex],this.editedItem),this.showSnackbar("Program updated successfully","success");else{const e=await this.$http.post("/program",this.editedItem);console.log(e),this.programs.push(e.data.data.item),this.showSnackbar("Program created successfully","success")}this.closeDialog()}catch(e){console.error("Error saving program:",e),this.showSnackbar("Error saving program","error")}else this.showSnackbar("Program name is required","error")},async deleteProgram(){try{await this.$http.delete(`/program/${this.editedItem._id}`);const e=this.programs.findIndex((e=>e._id===this.editedItem._id));this.programs.splice(e,1),this.closeDeleteDialog(),this.showSnackbar("Program deleted successfully","success")}catch(e){console.error("Error deleting program:",e),this.showSnackbar("Error deleting program","error")}},showSnackbar(e,t){this.snackbarText=e,this.snackbarColor=t,this.snackbar=!0}}},v=k,y=a(1656),A=(0,y.A)(v,h,f,!1,null,null,null),x=A.exports},4414:function(e,t,a){a(4114),a(125);var r=a(5471),s=a(8041),i=a(4152);const o=["sm","md","lg","xl"],n=(()=>o.reduce(((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e)),{}))(),l=(()=>o.reduce(((e,t)=>(e["offset"+(0,i.Zb)(t)]={type:[String,Number],default:null},e)),{}))(),c=(()=>o.reduce(((e,t)=>(e["order"+(0,i.Zb)(t)]={type:[String,Number],default:null},e)),{}))(),d={col:Object.keys(n),offset:Object.keys(l),order:Object.keys(c)};function g(e,t,a){let r=e;if(null!=a&&!1!==a){if(t){const a=t.replace(e,"");r+=`-${a}`}return"col"!==e||""!==a&&!0!==a?(r+=`-${a}`,r.toLowerCase()):r.toLowerCase()}}const u=new Map;t.A=r.Ay.extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...n,offset:{type:[String,Number],default:null},...l,order:{type:[String,Number],default:null},...c,alignSelf:{type:String,default:null,validator:e=>["auto","start","end","center","baseline","stretch"].includes(e)},tag:{type:String,default:"div"}},render(e,{props:t,data:a,children:r,parent:i}){let o="";for(const s in t)o+=String(t[s]);let n=u.get(o);if(!n){let e;for(e in n=[],d)d[e].forEach((a=>{const r=t[a],s=g(e,a,r);s&&n.push(s)}));const a=n.some((e=>e.startsWith("col-")));n.push({col:!a||!t.cols,[`col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),u.set(o,n)}return e(t.tag,(0,s.Ay)(a,{class:n}),r)}})},2756:function(e,t,a){a(4114),a(125);var r=a(5471),s=a(8041),i=a(4152);const o=["sm","md","lg","xl"],n=["start","end","center"];function l(e,t){return o.reduce(((a,r)=>(a[e+(0,i.Zb)(r)]=t(),a)),{})}const c=e=>[...n,"baseline","stretch"].includes(e),d=l("align",(()=>({type:String,default:null,validator:c}))),g=e=>[...n,"space-between","space-around"].includes(e),u=l("justify",(()=>({type:String,default:null,validator:g}))),m=e=>[...n,"space-between","space-around","stretch"].includes(e),p=l("alignContent",(()=>({type:String,default:null,validator:m}))),h={align:Object.keys(d),justify:Object.keys(u),alignContent:Object.keys(p)},f={align:"align",justify:"justify",alignContent:"align-content"};function b(e,t,a){let r=f[e];if(null!=a){if(t){const a=t.replace(e,"");r+=`-${a}`}return r+=`-${a}`,r.toLowerCase()}}const k=new Map;t.A=r.Ay.extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:c},...d,justify:{type:String,default:null,validator:g},...u,alignContent:{type:String,default:null,validator:m},...p},render(e,{props:t,data:a,children:r}){let i="";for(const s in t)i+=String(t[s]);let o=k.get(i);if(!o){let e;for(e in o=[],h)h[e].forEach((a=>{const r=t[a],s=b(e,a,r);s&&o.push(s)}));o.push({"no-gutters":t.noGutters,"row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),k.set(i,o)}return e(t.tag,(0,s.Ay)(a,{staticClass:"row",class:o}),r)}})}}]);
//# sourceMappingURL=35.0c786c92.js.map